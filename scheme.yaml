---
databaseChangeLog:
- changeSet:
    id: "status_type"
    author: "denis.volnenko"
    changes:
    - createType:
        schemaName: "public"
        catalogName: "tm"
        typeName: "status_type"
        remarks: "Статус"
        values:
        - value:
            name: "NOT_STARTED"
            remarks: "Не начато"
        - value:
            name: "IN_PROGRESS"
            remarks: "В процессе"
        - value:
            name: "COMPLETE"
            remarks: "Завершено"
- changeSet:
    id: "project"
    author: "liquibase"
    changes:
    - createTable:
        schemaName: "public"
        catalogName: "tm"
        tableName: "app_project"
        remarks: "Проект"
        columns:
        - column:
            name: "id"
            type: "uuid"
            autoIncrement: true
            remarks: "Уникальный код"
            constraints:
              primaryKey: true
              nullable: false
        - column:
            name: "name"
            type: "text"
            remarks: "Название"
            defaultValue: ""
            constraints:
              nullable: false
        - column:
            name: "description"
            type: "text"
            remarks: "Описание"
            defaultValue: ""
            constraints:
              nullable: false
        - column:
            name: "status_type"
            type: "text"
            remarks: "Статус"
            defaultValue: "NOT_STARTED"
            constraints:
              nullable: false
        - column:
            name: "created"
            type: "timestampz"
            remarks: "Дата создания"
            constraints:
              nullable: false
        - column:
            name: "updated"
            type: "timestampz"
            remarks: "Дата обновления"
            constraints:
              nullable: false
- changeSet:
    id: "task"
    author: "liquibase"
    changes:
    - createTable:
        schemaName: "public"
        catalogName: "tm"
        tableName: "app_task"
        remarks: "Задачи"
        columns:
        - column:
            name: "id"
            type: "uuid"
            remarks: "Уникальный код"
            autoIncrement: true
            constraints:
              primaryKey: true
              nullable: false
        - column:
            name: "name"
            type: "text"
            remarks: "Название"
            defaultValue: ""
            constraints:
              nullable: false
        - column:
            name: "description"
            type: "text"
            remarks: "Описание"
            defaultValue: ""
            constraints:
              nullable: false
        - column:
            name: "status_type"
            type: "text"
            remarks: "Статус"
            defaultValue: "NOT_STARTED"
            constraints:
              nullable: false
        - column:
            name: "project_id"
            type: "uuid"
            remarks: "Код проекта"
            constraints:
              foreignKey:
                referencedColumnNames: "id"
                referencedTableName: "app_project"
              nullable: false
        - column:
            name: "created"
            type: "timestampz"
            remarks: "Дата создания"
            constraints:
              nullable: false
        - column:
            name: "updated"
            type: "timestampz"
            remarks: "Дата обновления"
            constraints:
              nullable: false
